{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet SeriesComponent = class SeriesComponent {\n  constructor(service) {\n    this.service = service;\n    this.none = \"none\";\n    this.dataSeries = [];\n    this.searchSerie = \"\";\n    this.pages = 1;\n    this.idSerie = 0;\n    this.description = false;\n    this.total_pages = 0;\n    this.oficialPage = \"\";\n  }\n\n  ngOnInit() {\n    this.service.getWeekSeriesData(this.pages).subscribe(res => {\n      this.dataSeries = res.results;\n      this.total_pages = res.total_pages;\n      this.pages = res.page;\n      console.log(this.dataSeries);\n    });\n  }\n\n  search() {\n    if (this.searchSerie) {\n      this.dataSeries = [];\n      this.service.searchSeries(this.searchSerie).subscribe(res => {\n        this.dataSeries = res.results;\n      });\n    } else {\n      this.refresh();\n    }\n  }\n\n  refresh() {\n    this.dataSeries = [];\n    this.service.getWeekSeriesData(this.pages).subscribe(res => {\n      this.dataSeries = res.results;\n      this.total_pages = res.total_pages;\n    });\n  }\n\n  getOficialPage($id) {\n    this.service.redirectToOficialPageSerie($id).subscribe(res => {\n      console.log(this.oficialPage);\n      this.oficialPage = res.homepage;\n      window.open(this.oficialPage, '_blank');\n    });\n  }\n\n  viewDescription($event) {\n    this.idSerie = $event;\n    this.description = !this.description;\n  }\n\n  previousPage() {\n    if (this.pages == 1) {\n      this.pages = 1;\n    } else {\n      this.pages--;\n      this.refresh();\n    }\n  }\n\n  nextPage() {\n    if (this.pages >= this.total_pages) {\n      this.pages = this.total_pages;\n    } else {\n      this.pages++;\n      this.refresh();\n    }\n  }\n\n};\nSeriesComponent = __decorate([Component({\n  selector: 'app-series',\n  templateUrl: './series.component.html',\n  styleUrls: ['./series.component.scss']\n})], SeriesComponent);\nexport { SeriesComponent };","map":null,"metadata":{},"sourceType":"module"}